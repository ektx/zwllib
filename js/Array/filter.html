<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Array Filter</title>
</head>
<body>
	<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">Array Filter</a>
</body>
<script>
	
// filtering out all small values
function isBigEnough(val) {
	return val >= 10;
}

var filtered = [12,3,8,10,1024, 70].filter(isBigEnough);
document.write('<p>filtered:['+filtered+']</p>');
document.write('<p>filtered:[0] => '+filtered[0]+'</p>');


// 处理json
var arr = [
	{id: 10},
	{id: -1},
	{id: 0},
	{id: 5},
	{id: 12.5},
	{},
	{id: null},
	{id: NaN},
	{id: 'undefined'}
];

var invalidEntries = 0;

function filterByID(obj) {
	// 存在id且id的值类型是数字且值是数字
	if ('id' in obj && typeof(obj.id) === 'number' && !isNaN(obj.id)) {
		return true
	} else {
		invalidEntries++;
		return false
	}
}

var arrByID = arr.filter(filterByID);

document.write(JSON.stringify(arrByID));

document.write(invalidEntries)

</script>
</html>