<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Img Object-fit/position Demo</title>
	<style>
	.photo-box {

	}
	img {
		width: 400px;
		height: 300px;
		background: #f5f5f5;
		transition: 1s width, 1s height;
		object-position: 50% 50%;
	}
	.fill {
		object-fit: fill;
	}
	.contain {
		object-fit: contain;
	}
	.cover {
		object-fit: cover;
	}
	.none {
		object-fit: none;
	}
	.scale-down {
		object-fit: scale-down;
	}

	input[type="range"] {
		-webkit-appearance: none;
		width: 200px;
		height: 5px;
		border-radius: 5px;
		background: #ccc;
		outline: none;
	}
	</style>
</head>
<body>
	<div class="photo-box">
		<img src="img/lan.jpg" alt="">
		
		<h3>Object-fit:</h3>
		<div id="object-box">
			<label><input name="object-fit" type="radio" value="0">无</label>
			<label><input name="object-fit" type="radio" value="fill">fill</label>
			<label><input name="object-fit" type="radio" value="contain">contain</label>
			<label><input name="object-fit" type="radio" value="cover">cover</label>
			<label><input name="object-fit" type="radio" value="none">none</label>
			<label><input name="object-fit" type="radio" value="scale-down">scale-down</label>
		</div>
		<div id="obj-position-box">
			<h3>object-position: <span id="x">50%</span> <span id="y">50%</span></h3>
			<p>
				X:
				<input name="x" type="range" min="-100" max="100" value="50">
			</p>
			<p>
				Y:
				<input name="y" type="range" min="-100" max="100" value="50">
			</p>
			<small>* 您要选择了 object-fill 在使用此属性</small>
		</div>
	</div>
	<script>
	document.getElementById('object-box').addEventListener('click', function(e) {

		if (e.target.tagName === 'INPUT') {
			var objFit = e.target.value;

			if (objFit != '0') {
				document.querySelector('img').className = objFit
			} else {
				document.querySelector('img').className = ''
			}
			console.log('OK' + e.target.value)
		}
	}, false)

	document.getElementById('obj-position-box').addEventListener('mousemove', function(e) {

		if (e.target.tagName === 'INPUT') {
			// 取值
			var val = e.target.value;
			// 取类型，是x或y
			var id = e.target.name;
			var outVal = '';

			// 取原来的值
			var ele = document.querySelector('img');
			var objPosition = window.getComputedStyle(ele, null).objectPosition;

			var position = {
				x: objPosition.split(' ')[0],
				y: objPosition.split(' ')[1]
			}

			// 如果值没有变化不去改变
			if (val+'%' == position[id]) return;

			if (id == 'x') {
				outVal = val +'% '+ position.y;
			} else {
				outVal = position.x +' '+ val+'%'
			}

			ele.style.objectPosition = outVal;

			document.getElementById(id).innerHTML = val + '%';
		}
	}, false)

	</script>
</body>
</html>
